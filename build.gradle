plugins {
    id 'java'
    id "application"
    id "com.github.johnrengelman.shadow" version "6.1.0"
}

group 'com.higgs'
version '0.0.1'

ext {
    javaMainClass = "com.higgs.wrng.Main"
}

application {
    mainClassName = javaMainClass
}

repositories {
    jcenter()
    mavenCentral()
}

jar {
    manifest {
        attributes 'Main-Class': 'com.higgs.wrng.Main'
    }
}

dependencies {
    implementation group: 'org.json', name: 'json', version: '20201115'
    implementation group: 'com.bulenkov', name: 'darcula', version: '2018.2'

    testImplementation group: 'junit', name: 'junit', version: '4.12'
}

tasks.withType(JavaCompile) {
    options.compilerArgs += "--enable-preview"
}

tasks.withType(Test) {
    jvmArgs += "--enable-preview"
}

tasks.withType(JavaExec) {
    jvmArgs += '--enable-preview'
}
